# BitAgent SaaS 平台 - 产品需求文档 (PRD)

**版本:** 1.1 (详细版)
**日期:** 2025年7月4日
**作者:** GeminiAgent (AI 开发合伙人)
**审批人:** Jonny (项目负责人)
**状态:** 草案

---

## 1. 产品概述 (Product Overview)

### 1.1. 产品愿景
将 BitAgent 从一个专业的内部交易系统，打造成为一个面向全球量化交易者和投资机构的、领先的、AI 驱动的自动化交易 SaaS 平台。我们的目标是让用户无需深厚的编程背景，也能轻松构建、回测、部署和管理机构级的 AI 交易策略，从而在复杂的金融市场中获得竞争优势。

### 1.2. 背景与解决的问题
当前市场上的交易工具往往呈现两极分化：一类是为专业开发者设计的复杂框架，学习曲线���峭；另一类是为零售用户设计的“一键跟单”平台，缺乏灵活性和深度。BitAgent SaaS 平台旨在填补这一空白，为高阶交易者和中小型投资团队提供一个**既强大又易用**的“AI 交易总部”。

### 1.3. 市场机会
随着数字资产市场的成熟，越来越多的个人和机构投资者寻求更智能、更自动化的交易解决方案。一个提供 AI 赋能、配置灵活、风险可控的 SaaS 平台，具备巨大的市场潜力。

---

## 2. 目标用户 (Target Audience)

#### 2.1. **Crypto Pro - 陈先生**
- **背景**: 3-5 年经验的全职加密货币交易员，管理着 6-7 位数的资金。
- **痛点**: “我有很多交易想法，但把它们变成 24/7 运行的稳定机器人太难了。我需要一个能让我专注于策略本身，而不是代码和服务器的平台。”
- **核心需求**: 强大的策略构建工具、可靠的回测引擎、精细的风险控制和实时的 P&L 监控。

#### 2.2. **Tech-Savvy Investor - 李女士**
- **背景**: 一位繁忙的科技公司高管，将加密货币作为资产配置的一部分。
- **痛点**: “我相信 AI 能比我做得更好，但我不知道如何开始。市场上的‘跟单’产品感觉不透明，风险也无法控制。”
- **核心需求**: 一个清晰易懂的界面、一个包含经过验证的策略的“策略市场”、一键部署功能以及清晰的业绩报告。

---

## 3. 核心功能 (Core Features) - V1.0 (MVP)

### 3.1. 用户认证与账户中心 (User Authentication & Account Center)
- **描述**: 提供安全可靠的用户注册、登录和账户管理功能。
- **用户故���**:
    - **作为新用户**, 我希望可以通过邮箱和密码快速注册一个新账户，以便开始使用平台。
    - **作为用户**, 我希望可以安全地登录我的账户，并在必要时重置我的密码。
    - **作为注重安全的用户**, 我希望可以为我的账户启用二次验证 (2FA)，以保护我的资产和策略安全。
    - **作为已登录用户**, 我希望可以查看和管理我的订阅计划、账单历史和个人资料。
- **验收标准**:
    - [ ] 用户可以使用唯一的邮箱地址进行注册。
    - [ ] 登录页面包含“忘记密码”功能，该功能通过邮件发送重置链接。
    - [ ] 用户可以在账户设置中成功绑定 Google Authenticator 或类似工具。
    - [ ] 启用 2FA 后，登录时必须输入动态验证码。
    - [ ] 账户中心能清晰展示当前订阅等级、到期时间和升级选项。

### 3.2. ��易所连接器 (Exchange Connector)
- **描述**: 允许用户安全地将其在外部交易所的账户连接到平台，以便执行交易和读取数据。
- **用户故事**:
    - **作为用户**, 我希望能在一个安全的界面输入我的交易所 API Key 和 Secret，将我的 Binance/OKX 账户连接到平台。
    - **作为用户**, 我希望能清晰地看到我已连接的账户列表及其状态（如：已连接、无效的 Key）。
    - **作为用户**, 我可以随时编辑或删除一个已连接的交易所账户。
- **验收标准**:
    - [ ] 系统支持 Binance 和 OKX 的现货和永续合约账户。
    - [ ] API 密钥在传输和存储时必须全程加密。
    - [ ] 添加新的 API Key 时，系统会立即验证其有效性和权限（必须包含“读取信息”和“允许交易”权限）。
    - [ ] 任何时候，API Secret Key 都不能以明文形式在前端展示。
    - [ ] 删除一个交易所连接后，所有关联的运行中机器人必须被安全地暂停。

### 3.3. AI 策略构建器 (AI Strategy Builder)
- **描述**: 产品的核心，一个可视化的界面，让用户可以像搭积木一样构建自己的交易策略。
- **用户故事**:
    - **作为策略创建者**, 我可以从一个空白画布开始，��者从一个简单的模板（如：金叉死叉）开始创建我的策略。
    - **作为策略创建者**, 我可以从左侧的工具栏中拖拽“数据源”模块（如：BTC/USDT 15分钟 K线）、“逻辑”模块（如：IF 条件、移动平均线）和“操作”模块（如：开多仓、平仓）到画布上。
    - **作为策略创建者**, 我可以将这��模块连接起来，形成一个完整的逻辑流。
    - **作为策略创建者**, 我可以点击每个模块，在右侧的属性面板中配置其详细参数（如：均线周期、开仓金额）。
    - **作为策略创建者**, 我可以为整个策略设置全局风控规则，例如“最大持仓数量”和“总亏损达到 5% 时暂停策略”。
- **验收标准**:
    - [ ] 提供至少 5 种数据源模块（K线、资金费率等）。
    - [ ] 提供至少 10 种逻辑/指标模块（SMA, EMA, RSI, MACD, IF/ELSE 等）。
    - [ ] 提供核心操作模块（开仓、平仓、设置止盈止损）。
    - [ ] 模块之间可以通过拖拽方式连接，形成清晰的逻辑线。
    - [ ] 保存策略时，系统会验证策略的完整性（如：是否有孤立的模块）。
    - [ ] 用户可以为每个策略命名并添加文字描述。

### 3.4. 回测引擎 (Backtesting Engine)
- **描述**: 在策略部署前，提供强大的历史数据回测功能，以评估策略表现。
- **用户故事**:
    - **作为策略设计者**, 在完成一个策略的构建后，我可以选择一个历史时间段（如：过去六个月）和初始模拟资金，对它进行回测。
    - **作为回测用户**, 在回测完成后，我能看到一份清晰、���视化的回测报告。
    - **作为分析师**, 我希望报告中包含关键的性能指标图表，如净值曲线、收益率分布和最大回撤图。
- **验收标准**:
    - [ ] 用户可以选择预设的时间范围（1个月、3个月、1年）或自定义起止日期。
    - [ ] 回测报告必须包含以下核心指标：总收益率、年化收益率、夏普比率、索提诺比率、最大回撤、胜率、盈亏比。
    - [ ] 报告中需提供所有历史交易的详细列表（买入/卖出时间、价格、数量、费用、盈亏）。
    - [ ] K线图上需明确标注出买卖点位。

### 3.5. 实盘仪表盘 (Live Trading Dashboard)
- **描述**: 用户监控所有机器人和账户表现的中央指挥室。
- **用户故事**:
    - **作为平台用户**, 我一登录就能在仪表盘上看到我所有账户的总资产净值（以 USDT 或 USD 计价）及其今日变化。
    - **作为机器人管理员**, 我能看到一个所有策略机器人的列表，每个机器人以卡片形式展示，包含名称、所用策略、关联账户、运行时长、累计盈亏和当前状态。
    - **作为机器人管理员**, 我可以对任意一个机器人执行“启动”、“暂停”、“停止”操作。
    - **作为交易员**, 我希望��有一个区域实时展示平台产生的所有交易信号和执行日志。
- **验收标准**:
    - [ ] 总资产净值每 5 分钟刷新一次。
    - [ ] 机器人卡片上的状态和盈亏数据需准实时更新（延迟 < 30秒）。
    - [ ] “停止”操作会触发一个确认弹窗，告知用户此操作会平掉该机器人管理的所有仓位。
    - [ ] 交易日志可以根据机器人名称或交易所账户进行筛选。

---

## 4. 商业模式 (Business Model)

采用分层订阅制，以 Freemium 模型吸引初始用户。

| 功能/层级 | **免费版 (Freemium)** | **专业版 (Pro)** | **机构版 (Institutional)** |
| :--- | :--- | :--- | :--- |
| **价格** | $0 | $99 / 月 | 定制报价 |
| **连接交易所账户** | 1 | 5 | 无限制 |
| **同时运行机器人** | 1 | 10 | 无限制 |
| **回测次数/天** | 10 | 100 | 无限制 |
| **策略市��** | 访问免费策略 | 访问所有策略 | 访问所有策略 |
| **AI 策略生成** | ❌ | ✅ (5次/月) | ✅ (无限制) |
| **AI 参数优化** | ❌ | ✅ (5次/月) | ✅ (无限制) |
| **API 访问** | ❌ | ✅ | ✅ |
| **专属客户支持** | 社区支持 | 邮件支持 | 专属客户经理 & 技术支持 |

---

## 5. 技术架构与选型 (Tech Stack & Architecture)

- **前端**: React / Next.js (提供良好的开发体验和性能), TypeScript, Tailwind CSS。
- **后端**: Python (复用现有 `bitagent` 核心逻辑), FastAPI (高性能 API 框架)。
- **数据库**: PostgreSQL (关系型数据存储), InfluxDB (时间序列数据，用于存储 K线和指标)。
- **消息队列/缓存**: Redis (用于缓存、任务队列和 Agent 间的实时消息传递)。
- **部署**: Docker + Kubernetes, 部署在 AWS/GCP/Azure。
- **核心原则**: 采用微服务架构，将用户管理、策略构建、回测、实盘交易等核心模块解耦，保证系统的可扩展性和可维护性。

---

## 6. Go-to-Market 策略 (GTM Strategy)

1.  **Alpha 测试 (1-2个月)**: 邀请 20-30 位核心社区成员或我们认识的专业交易员，免费使用产品并提供深度反馈。
2.  **Beta 公测 (2-3个月)**: 开放注册，提供功能受限的免费版���功能完整的 Pro 版免费试用，收集更广泛的用户反馈，打磨产品。
3.  **正式发布 (Launch)**: 在 Product Hunt, Hacker News 等科技社区进行发布。与加密领域的 KOL 和媒体合作进行宣传。
4.  **内容营销**: 持续输出高质量的博客文章和视频教程，内容包括：如何使用平台、量化交易知识、市场分析等，建立品��专业性。

---

## 7. 成功指标 (Success Metrics)

- **用户增长**: 月活跃用户数 (MAU) > 1,000 (发布后6个月)。
- **商业收入**: 月度经常性收入 (MRR) > $10,000 (发布后6个月)。
- **用户粘性**: 付费客户月流失率 (Paid Churn Rate) < 5%。
- **产品价值**: 至少 30% 的活跃用户每天登录。

---

## 8. V1 版本不包含的功能 (Out of Scope for V1)

为确保 V1 (MVP) 能在合理时间内高质量交付，以下功能将**不**包含在首个版本中：
- **策略市场**: V1 将只提供官方模板，不开放社区贡献。
- **社交交易/跟单**: 复杂的账户体系和分润逻辑，延后开发。
- **移动端 App**: V1 将专注于提供顶级的 Web 端体验。
- **法币出入金**: 用户资金完全保留在自己的交易所账户中，平台不触碰用户资产。
- **多语言支持**: V1 将只提���英文和中文界面。

---
*本文件是 BitAgent SaaS 平台开发的核心指导文件，所有开发活动都应围绕此文档中定义的需求展开。*
