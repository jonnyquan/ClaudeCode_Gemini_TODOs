# TODO 管理约定

## 更新时机
1. **任务开始时** - 立即标记为 `in_progress`
2. **任务完成时** - 立即标记为 `completed`
3. **发现新任务时** - 立即添加到列表
4. **任务被阻塞时** - 保持 `in_progress` 并创建新的阻塞任务

## 更新原则
- **实时更新** - 不要批量更新，完成一个更新一个
- **同时更新两处** - 内存中的 TODO 和持久化文件
- **每次重要进展** - 都更新 PROJECT_TODOS.md

## 大型任务管理 (`*_PLAN.md` & `*_PROGRESS.md`)
对于任何需要详细分解的复杂任务（例如，一个为期数天的冲刺计划），我们采用 `PLAN` 和 `PROGRESS` 双文件模式。

1.  **创建 `*_PLAN.md`**:
    - **目的**: 定义任务的**目标、范围、挑战和详细的行动步骤**。
    - **内容**: 包含最终目标、关键挑战、详细的任务分解（如5天冲刺计划）、成功标准等。
    - **状态**: 此文件一旦制定，应保持相对稳定，作为行动的“蓝图”。

2.  **创建 `*_PROGRESS.md`**:
    - **目的**: 实时追踪 `PLAN` ��**执行进度、状态和产出**。
    - **内容**: 包含任务的完成状态（例如 `✅ [SIM-001]`, `🚧 [SIM-002]`, `[ ] [SIM-003]`)、完成率分析、遇到的问题、技术债务和关键指标的实时数据。
    - **状态**: 此文件是动态的，应在每次任务状态变更后立即更新。

3.  **关联与引用**:
    - 在 `PROJECT_TODOS.md` 中，该大型任务应被视为一个单一的条目，并链接到其 `*_PLAN.md` 文件。
      - *示例*: `- [ ] [SIM-000] 对接 Binance Testnet (详情参见: `SIM_TRADING_PLAN.md`)`
    - `*_PLAN.md` 和 `*_PROGRESS.md` 文件应该在文档的头部相互链接，方便快速导航。

## 会话开始流程
```bash
# 1. 读取上次的 TODO
cat PROJECT_TODOS.md

# 2. 恢复到 TodoWrite
# 3. 继续工作
```

## 会话结束流程
```bash
# 1. 确保所有 TODO 已保存
# 2. 更新 PROJECT_TODOS.md 的最后更新时间
# 3. 提交到 git（如果需要）
```

## 触发词约定
- "更新TODO" - 立即同步内存和文件
- "保存进度" - 导出当前所有 TODO 到文件
- "恢复TODO" - 从文件加载 TODO 列表
- "查看TODO" - 显示当前 TODO 状态

## 自动提醒
- 完成 3 个任务后 → 提醒保存
- 会话超过 30 分钟 → 提醒更新进度
- 切换大任务��� → 自动保存checkpoint